{"version":3,"file":"timing.js","sourceRoot":"","sources":["../../../lib/utils/timing.ts"],"names":[],"mappings":";;AAAA,wCAeC;AAfD,SAAgB,cAAc,CAC1B,OAAqB,EACrB,cAAsB,EACtB,QAAiB;IAEjB,IAAI,KAAqB,CAAA;IACzB,MAAM,OAAO,GAAG,IAAI,OAAO,CACvB,CAAC,CAAC,EAAE,MAAM,EAAE,EAAE,CACV,CAAC,KAAK,GAAG,UAAU,CACf,GAAG,EAAE,CAAC,MAAM,CAAC,IAAI,KAAK,CAAC,QAAQ,IAAI,iBAAiB,CAAC,CAAC,EACtD,cAAc,GAAG,IAAI,CACxB,CAAC,CACT,CAAA;IAED,OAAO,OAAO,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC,CAAA;AAC9E,CAAC","sourcesContent":["export function timeoutPromise(\n    promise: Promise<any>,\n    timeoutSeconds: number,\n    errorMsg?: string\n): Promise<any> {\n    let timer: NodeJS.Timeout\n    const timeout = new Promise(\n        (_, reject) =>\n            (timer = setTimeout(\n                () => reject(new Error(errorMsg || 'Request timeout')),\n                timeoutSeconds * 1000\n            ))\n    )\n\n    return Promise.race([promise.finally(() => clearTimeout(timer)), timeout])\n}\n"]}